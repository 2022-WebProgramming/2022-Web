<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>자취생 레시피</title>
  <script src="js/init.js"></script>
  <script src="js/func.js"></script>
  <script type="text/javascript" src="./json/recipe.json">
    var data = JSON.parse(JSON.stringify(Recipeyo));
  </script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

  <script>
    function gotoRecipe() {
      var datas = JSON.parse(JSON.stringify(Recipeyo));
      var imgs = document.getElementById("resultTable").getElementsByTagName("img");
      var number = imgs.length;
      var ids = Array;

      for (var i = 0; i < number; i++) {
        ids[i] = imgs[i].id;
      }
      //지우는거 안됨

      document.getElementById("resultTable").innerHTML = ""

      for (var i = 0; i < 10; i++) {     //레시피 개수에 따라 바꿔줘야함
        var count = 0;            //count 0으로 선언
        var keys = Object.keys(localStorage);
        keys.forEach(key => {
          var temp = localStorage.getItem(key);
          var showSelected = JSON.parse(temp);
          if (showSelected.selected == "true") {
            for (var j = 0; j < datas[i].base.length; j++) {
              if (datas[i].base[j] == showSelected.name) {
                count++;
              }
            }
          }
        })
        if ((count / datas[i].base.length) * 100 >= 30) {

          console.log(datas[i].name);
          var A = document.createElement("a");
          var br = document.createElement("br");

          A.innerHTML = datas[i].name;
          A.href = "./Recipe.html#" + datas[i].name;
          A.classList.add("members");

          document.getElementById("resultTable").appendChild(A);
          document.getElementById("resultTable").appendChild(br);
        };

        //console.log(count); //count 동작 확인용

      }
      for (var i = 0; i < number; i++) {

        var getData = JSON.parse(localStorage.getItem(ids[i]));
        getData.selected = "false";
        localStorage.setItem(ids[i], JSON.stringify(getData));

      }
    }
  </script>

  <style>
    html {
      scroll-behavior: smooth;
    }

    @font-face {

      src: url("./font/BMYEONSUNG_ttf.ttf");
      font-family: "jua"
    }

    @font-face {

      src: url("./font/SuseongBatang.ttf");
      font-family: "suseongB"
    }

    @font-face {

      src: url("./src/font/SuseongDotum.ttf");
      font-family: "suseongD"
    }

    *
    {
      font-family: suseongB;
    }
    #Contact {
      font-family: suseongB;
    }

    #Contact {

      padding-left: 70px;
    }

    #content
    {
      border: 10px solid #FFE361;
    }

    .title {
      font-family: suseongB;
      margin-bottom: 30px;
    }

    .paragraph {
      font-family: suseongB;
    }

    .members {
      font-family: suseongB;
      font-size: 20px;
      margin-left: 5px;
      text-decoration: none;
      color: black;
    }

    .contactTitle {
      font-family: jua;
      font-weight: 500;
    }
    nav 
    {
      margin-bottom: 0px;
    }
    .navLayout {
      margin-bottom: 0px !important;
      background-color: #FFE361 !important;
      padding: 15px;
      font-weight: bold;
      font-size: 20px;
    }

    #Rfs {
      font-size: 50px;
      margin-left: 3vw;
      background-image: linear-gradient(to right, #FFE361, #FFE361);
      color: transparent;
      background-clip: text;
      -webkit-background-clip: text;
      font-weight: 600;
    }

    #Rfs::first-letter {
      font-size: 10rem;
    }


    .navBar-custom {
      color: black !important;
      font-family: suseongB;
    }

    .btn-custom:hover {
      box-shadow: 0px 0px 10px #ffe54c;
    }

    .button-52 {
      font-size: 16px;
      font-weight: 200;
      letter-spacing: 1px;
      padding: 13px 20px 13px;
      outline: 0;
      border: 1px solid black;
      cursor: pointer;
      position: relative;
      background-color: rgba(0, 0, 0, 0);
      user-select: none;
      -webkit-user-select: none;
      touch-action: manipulation;
    }

    .button-52:after {
      content: "";
      background-color: #ffe54c !important;
      width: 100%;
      z-index: -1;
      position: absolute;
      height: 100%;
      top: 7px;
      left: 7px;
      transition: 0.2s;
    }

    .button-52:hover:after {
      top: 0px;
      left: 0px;
    }

    a.navBar-custom:hover {
      text-shadow: 0px 0px 1px !important;
    }

    a.members:hover {
      text-shadow: 0px 0px 1px black;
      color: black;
      text-decoration: none !important;
    }
    #title {
    font-size: 6em;
    font-weight: 600;
    background-image: linear-gradient(to right, #FFE361, #FFE361);
    color: transparent;
    background-clip: text;
    -webkit-background-clip: text;
    padding-top: 50px;
    padding-bottom: 50px;
    font-family: suseongB;
  }

  #title::first-letter {
    font-size: 1.6em;
  }

  #resultTable
  {
    height: 791px;
    overflow: scroll;
    border:10px solid #d2d2d3;
  }

  #resultTable::-webkit-scrollbar {
      width: 10px;
    }

    #resultTable::-webkit-scrollbar-thumb {
      background-color: #1d202d;
      border-radius: 10px;
    }

    #resultTable::-webkit-scrollbar-track {
      background-color: lightgrey;
      border-radius: 10px;
      box-shadow: inset 0px 0px 5px white;
    }

    #foodText
    {
      background-color: #d2d2d3;
      color: white;
      padding-bottom: 50px;
    }

    #condimentText
    {
      background-color: #fff59d;
      color: #fdd835;
      padding-bottom: 50px;
    }

    .buttonStyleFood
    {
      color:#1d202d !important;
      background-color: #fdd835 !important;
      border: 1px solid #fdd835 !important;
      font-size: 25px !important;
      width: 100px;
      height: 50px;
    }

    .buttonStyleCondiment
    {
      color:black !important;
      background-color: #d2d2d3 !important;
      border: 1px solid #d2d2d3 !important;
      font-size: 25px !important;
      width: 150px;
      height: 50px;
    }

    .gotoRecipe
    {
      color:#1d202d !important;
      background-color: white !important;
      border: 1px solid #1d202d !important;
      font-size: 25px !important;
      width: 120px;
      height: 50px;
    }

    .removeButton
    {
      color:#1d202d !important;
      background-color: #fdd835 !important;
      border: 1px solid #fff59d;
      border-radius: 10px;
    }
    #condimentText p,#foodText p{
      font-size:30px;
      padding-bottom: 120px;
    }
  </style>

</head>

<body>
  <nav class="navLayout navbar navbar-default navBar-custom">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavBar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <div class="collapse navbar-collapse" id="myNavBar">
        <ul class="nav navbar-nav navbar-right">
          <li><a class="navBar-custom" href="../index.html">Home</a></li>
          <li><a class="navBar-custom" href="./Recipe.html">Recipe</a></li>
          <li><a class="navBar-custom" href="./Map.html">Map</a></li>
          <li><a class="navBar-custom" href="#Contact">Contact</a></li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="container-fluid text-center">
    <div class="row">
      <div class="col-sm-6">
        <h1 id="title">Food/<br>Condiment</h1>
      </div>
      <div class="col-sm-6">
        <div class="row">
          <div class="col-sm-6" id = "foodText">
            <h1>Food</h1>
            <span class="glyphicon glyphicon-circle-arrow-left" style="font-size: 50px;"></span>
            <p>
              Select Food you have!
          </p>
          </div>
          <div class="col-sm-6" id = "condimentText">
            <h1>Condiment</h1>
            <span class="glyphicon glyphicon-circle-arrow-right" style="font-size: 50px;"></span>
            <p>
             Select Condiment you have!
          </p>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-7">
        <div class="col-sm-1"></div>
        <div class="col-sm-4">
          <div class="btn-group" style="margin-bottom: 50px;">
            <button type="button" id="gotoFood" class="buttonStyleFood btn btn-danger  btn-outline-light">Food</button>
            <button type="button" id="gotoCondiment" class="buttonStyleCondiment btn btn-success btn-outline-light">Condiment</button>
          </div>
        </div>
        <div class="col-sm-6"></div>
        <div class="col-sm-1 btn-group">
          <button type="button" class="gotoRecipe btn btn-success  btn-outline-light" onclick="gotoRecipe();">결과보기</button>
        </div>
      </div>
      <div class="col-sm-1"></div>
      <div class="col-sm-4 ">
        
      </div>
    </div>
  </div>
  <div class="container-fluid">
    <div class="col-sm-8">
      <section>
        <div id="content">

          <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js">

          </script>
          <script>
            function check() {
              var keys = Object.keys(localStorage);
              keys.forEach(key => {
                var temp = localStorage.getItem(key);
                var showSelected = JSON.parse(temp);
                if (showSelected.selected == "true") {
                  resultCard(showSelected);
                }
              })
            }

            $(document).ready(function () {
              $("#content").load("./FOOD.html");
            });

            $(document).ready(function () {
              $("#gotoFood").click(function () {
                $("#content").load("./FOOD.html")
              });
            });

            $(document).ready(function () {
              $("#gotoCondiment").click(function () {
                $("#content").load("./CONDIMENT.html")
              });
            });

            $(document).ready(function () {
              $("#gotoRecipe").click(function () {
                $("#content").load("./Recipe.html")
              });
            });

          </script>

        </div>
      </section>
    </div>
    <div id="resultTable" class="col-sm-4">
      <h1 class="title">선택 목록</h1>
    </div>
  </div>
</body>

</html>